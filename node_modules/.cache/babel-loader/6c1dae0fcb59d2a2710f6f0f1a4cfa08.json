{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"C:/Users/Mr. Akshay/Documents/React/Project 1/reactnd-project-myreads-starter-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Mr. Akshay/Documents/React/Project 1/reactnd-project-myreads-starter-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/Mr. Akshay/Documents/React/Project 1/reactnd-project-myreads-starter-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/Mr. Akshay/Documents/React/Project 1/reactnd-project-myreads-starter-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mr. Akshay\\\\Documents\\\\React\\\\Project 1\\\\reactnd-project-myreads-starter-master\\\\src\\\\Search.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Book from './Book';\nimport * as BooksAPI from './BooksAPI';\n/*\r\n\tCreated by Akshay Niranjan\r\n\tLast Modified\r\n\t12th May 2021\r\n*/\n\nvar Search = /*#__PURE__*/function (_Component) {\n  _inherits(Search, _Component);\n\n  var _super = _createSuper(Search);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      query: '',\n      newBooks: [],\n      searchErr: false\n    };\n\n    _this.getBooks = function (event) {\n      //using book api we can search to find a list of books\n      var query = event.target.value;\n\n      _this.setState({\n        query\n      }); //run search if user input is found\n\n\n      if (query) {\n        BooksAPI.search(query.trim(), 20).then(function (book_array) {\n          book_array.length > 0 ? _this.setState({\n            newBooks: book_array,\n            searchError: false\n          }) : _this.setState({\n            newBooks: [],\n            searchError: true\n          });\n        });\n      } else _this.setState({\n        newBooks: [],\n        searchError: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          query = _this$state.query,\n          newBooks = _this$state.newBooks,\n          searchError = _this$state.searchError;\n      var _this$props = this.props,\n          book_array = _this$props.book_array,\n          changeShelfFunc = _this$props.changeShelfFunc;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-books-bar\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"close-search\",\n            to: \"/\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-books-input-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search by title or author\",\n              value: query,\n              onChange: this.getBooks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-books-results\",\n          children: [newBooks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Search returned \", newBooks.length, \" books \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"books-grid\",\n              children: newBooks.map(function (book) {\n                return /*#__PURE__*/_jsxDEV(Book, {\n                  book: book,\n                  book_array: book_array,\n                  changeShelfFunc: changeShelfFunc\n                }, book.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 37\n                }, _this2);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), searchError && /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Search did not return any books. Please try again!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this);\n    } //accidentally didnt tab render, fix later\n\n  }]);\n\n  return Search;\n}(Component);\n\nSearch.propTypes = {\n  book_array: PropTypes.array.isRequired,\n  changeShelfFunc: PropTypes.func.isRequired\n};\nexport default Search;","map":{"version":3,"sources":["C:/Users/Mr. Akshay/Documents/React/Project 1/reactnd-project-myreads-starter-master/src/Search.js"],"names":["React","Component","PropTypes","Link","Book","BooksAPI","Search","state","query","newBooks","searchErr","getBooks","event","target","value","setState","search","trim","then","book_array","length","searchError","props","changeShelfFunc","map","book","id","propTypes","array","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Book from './Book';\r\nimport * as BooksAPI from './BooksAPI';\r\n/*\r\n\tCreated by Akshay Niranjan\r\n\tLast Modified\r\n\t12th May 2021\r\n*/\r\nclass Search extends Component {\r\n    static propTypes = {\r\n        book_array: PropTypes.array.isRequired,\r\n        changeShelfFunc: PropTypes.func.isRequired\r\n    };\r\n\r\n    state = {\r\n        query: '',\r\n        newBooks: [],\r\n        searchErr: false\r\n    };\r\n\r\n    getBooks = event => {//using book api we can search to find a list of books\r\n        const query = event.target.value;\r\n        this.setState({ query });\r\n\r\n        //run search if user input is found\r\n        if (query) {\r\n            BooksAPI.search(query.trim(), 20).then(book_array => {\r\n                book_array.length > 0 ? this.setState({ newBooks: book_array, searchError: false })\r\n                    : this.setState({ newBooks: [], searchError: true });\r\n            });\r\n        }\r\n        else\r\n            this.setState({ newBooks: [], searchError: false });\r\n    };\r\n\r\n    render() {\r\n        const { query, newBooks, searchError } = this.state;\r\n        const { book_array, changeShelfFunc } = this.props;\r\n        return (\r\n            <div className=\"search-books\">\r\n                <div className=\"search-books-bar\">\r\n                    <Link className=\"close-search\" to=\"/\">Close</Link>\r\n                    <div className=\"search-books-input-wrapper\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search by title or author\"\r\n                            value={query}\r\n                            onChange={this.getBooks}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"search-books-results\">\r\n                    {newBooks.length > 0 && (\r\n                        <div>\r\n                            <h3>Search returned {newBooks.length} books </h3>\r\n                            <ol className=\"books-grid\">\r\n                                {newBooks.map(book => (\r\n                                    <Book\r\n                                        book={book}\r\n                                        book_array={book_array}\r\n                                        key={book.id}\r\n                                        changeShelfFunc={changeShelfFunc}\r\n                                    />\r\n                                ))}\r\n                            </ol>\r\n                        </div>\r\n                    )}\r\n                    {searchError && (<h3>Search did not return any books. Please try again!</h3>)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }//accidentally didnt tab render, fix later\r\n}\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}